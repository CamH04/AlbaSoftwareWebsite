
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/sidebar.css"> 
    <title>AlbaOS Docs | AlbaSoftware</title>
</head>
<body>
    
</body>
</html>


<div class="container">
	<div class="row">
		<a href="https://albasoftware.netlify.app/albaosarticles"><h2>Back</h2></a>
		<hr/>
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">


                    
                    <div class="col-lg-12">
                        <h1>How To Make Your Own Command For The AlbaOS ACL</h1>
                        <h3>22nd June 2024, <a href="https://candid-quokka-da2c12.netlify.app/">Cameron</a></h3>                        
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <div>
                            <p>So, you want to make your own commands for the ACL? Well, you’ve come to the right place! AlbaOs is a mostly command line-based OS and therefore as an open source OS I have decided and important article would be to show you how to make your own commands for AlbaOS.</p>
                            <p>To start if you navigate to the CLI source file at [ src/cli.cpp ] you will see the includes, namespaces , forward declarations and declarations of some functions that exist in [ kernel.cpp ].  After all the declarations, the fun begins. This is where you can implement a function with the desired functionality of the command you want to make. </p>
                            <p>This function must contain the parameters (char* args, CommandLine* cli) if this is the function you wish to interact with when the command is called, this sort of acts like a main function for the command (horrible description, im sorry).  These parameters contain a pointer to the argument string and a pointer to the CLI.</p>
                            <p>For example, I want to make a command called “welcome” that then prints the line “Welcome to AlbaOs” I would make a function that goes as such: </p>
                            <p>void welcomecommand(char* args, CommandLine* cli) { printf(“Welcome To AlbaOS\n” );}</p>
                            <p>We have laid out the functionality, now what?</p>
                            <p>We need to hash the command to the hash table that the CLI uses to look up commands, we use a FNV-1A hash (for further reading I have other articles on this subject)</p>
                            <p>To do this go to the void CommandLine::hash_cli_init() function. We will the add our command to the hash table by adding the line:</p>
                            <p>this->hash_add("name",function);</p>
                            <p>for the example of the welcome command the hash add will look like this: </p>
                            <p>this->hash_add("welcome",welcomecommand);</p>
                            <p> This will make it so that if you type welcome into the command line the function is called.</p>
                            <br>
                            <p>Thank you for reading 0v0 </p>
                        </div>
                    </div>
                    <br>
                    <br>
                </div>
            </div>
        </div>          
	</div>
</div>
